package fr.ubx.poo.model;

import fr.ubx.poo.model.go.character.Player;
import fr.ubx.poo.view.sprite.SpritePlayer;

import java.util.TimerTask;

public class InvulnerabilityTimer extends TimerTask {

    Player linkedPlayer;
    SpritePlayer linkedSprite;





    // ------------------ CONSTRUCTEUR ------------------ //

    public InvulnerabilityTimer(Player player){
        linkedPlayer = player;
        linkedSprite = null;
    }

    public InvulnerabilityTimer(SpritePlayer sprite){
        linkedSprite = sprite;
        linkedPlayer = null;
    }





    // ------------------ METHODES PUBLIQUES ------------------ //

    @Override
    public void run() {
        if(linkedPlayer != null){
            this.linkedPlayer.setVulnerabilityStatus(false);
            linkedPlayer.endTimer();
        }
        else{
            if(linkedSprite.getBrightness() == (double) 0 ){
                linkedSprite.setBrightness(1);
            }else{
                linkedSprite.setBrightness(0);
            }
        }
    }
}
